{"ast":null,"code":"var _jsxFileName = \"/Users/seangong/WebstormProjects/Spotify/client/src/TracksComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TracksComponent() {\n  _s();\n  const [userTracks, setUserTracks] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Function to fetch user IDs from the backend\n  const fetchUserIds = async () => {\n    try {\n      const url = 'http://localhost:3001/user-ids';\n      const response = await axios.get(url);\n      return response.data;\n    } catch (err) {\n      setError('Failed to fetch user IDs');\n      setLoading(false);\n      return []; // Return empty array on error to prevent further processing\n    }\n  };\n\n  // Function to fetch tracks for a specific user\n  const fetchTracks = async userId => {\n    try {\n      const url = `http://localhost:3001/get-tracks/${userId}`;\n      const response = await axios.get(url);\n      return {\n        userId,\n        tracks: response.data.map(track => ({\n          ...track,\n          artist: track.artists.map(artist => artist.name).join(', ')\n        }))\n      };\n    } catch (err) {\n      setError(`Failed to fetch tracks for user ${userId}`);\n      return null; // Return null on error to handle it gracefully\n    }\n  };\n  useEffect(() => {\n    setLoading(true);\n    fetchUserIds().then(userIds => {\n      Promise.all(userIds.map(userId => fetchTracks(userId))).then(results => {\n        setUserTracks(results.reduce((acc, result) => {\n          if (result) {\n            // Check if result is not null\n            acc[result.userId] = result.tracks;\n          }\n          return acc;\n        }, {}));\n        setLoading(false);\n      });\n    });\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Top Tracks by User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), Object.keys(userTracks).length > 0 ? Object.entries(userTracks).map(([userId, tracks]) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"User: \", userId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: tracks.map((track, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [track.name, \" by \", track.artist]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }, this)]\n    }, userId, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No tracks found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n_s(TracksComponent, \"P7KgMvUFbysUx/fIw5IuAhKNP7k=\");\n_c = TracksComponent;\nexport default TracksComponent;\nvar _c;\n$RefreshReg$(_c, \"TracksComponent\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","TracksComponent","_s","userTracks","setUserTracks","loading","setLoading","error","setError","fetchUserIds","url","response","get","data","err","fetchTracks","userId","tracks","map","track","artist","artists","name","join","then","userIds","Promise","all","results","reduce","acc","result","children","fileName","_jsxFileName","lineNumber","columnNumber","Object","keys","length","entries","index","_c","$RefreshReg$"],"sources":["/Users/seangong/WebstormProjects/Spotify/client/src/TracksComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction TracksComponent() {\n    const [userTracks, setUserTracks] = useState({});\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    // Function to fetch user IDs from the backend\n    const fetchUserIds = async () => {\n        try {\n            const url = 'http://localhost:3001/user-ids';\n            const response = await axios.get(url);\n            return response.data;\n        } catch (err) {\n            setError('Failed to fetch user IDs');\n            setLoading(false);\n            return [];  // Return empty array on error to prevent further processing\n        }\n    };\n\n    // Function to fetch tracks for a specific user\n    const fetchTracks = async (userId) => {\n        try {\n            const url = `http://localhost:3001/get-tracks/${userId}`;\n            const response = await axios.get(url);\n            return {\n                userId,\n                tracks: response.data.map(track => ({\n                    ...track,\n                    artist: track.artists.map(artist => artist.name).join(', ')\n                }))\n            };\n        } catch (err) {\n            setError(`Failed to fetch tracks for user ${userId}`);\n            return null;  // Return null on error to handle it gracefully\n        }\n    };\n\n    useEffect(() => {\n        setLoading(true);\n        fetchUserIds().then(userIds => {\n            Promise.all(userIds.map(userId => fetchTracks(userId)))\n                .then(results => {\n                    setUserTracks(results.reduce((acc, result) => {\n                        if (result) {  // Check if result is not null\n                            acc[result.userId] = result.tracks;\n                        }\n                        return acc;\n                    }, {}));\n                    setLoading(false);\n                });\n        });\n    }, []);\n\n    if (loading) return <div>Loading...</div>;\n    if (error) return <div>Error: {error}</div>;\n\n    return (\n        <div>\n            <h1>Top Tracks by User</h1>\n            {Object.keys(userTracks).length > 0 ? (\n                Object.entries(userTracks).map(([userId, tracks]) => (\n                    <div key={userId}>\n                        <h2>User: {userId}</h2>\n                        <ul>\n                            {tracks.map((track, index) => (\n                                <li key={index}>\n                                    {track.name} by {track.artist}\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                ))\n            ) : (\n                <p>No tracks found.</p>\n            )}\n        </div>\n    );\n}\n\nexport default TracksComponent;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EACvB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAMa,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACA,MAAMC,GAAG,GAAG,gCAAgC;MAC5C,MAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAG,CAACF,GAAG,CAAC;MACrC,OAAOC,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVN,QAAQ,CAAC,0BAA0B,CAAC;MACpCF,UAAU,CAAC,KAAK,CAAC;MACjB,OAAO,EAAE,CAAC,CAAE;IAChB;EACJ,CAAC;;EAED;EACA,MAAMS,WAAW,GAAG,MAAOC,MAAM,IAAK;IAClC,IAAI;MACA,MAAMN,GAAG,GAAI,oCAAmCM,MAAO,EAAC;MACxD,MAAML,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAG,CAACF,GAAG,CAAC;MACrC,OAAO;QACHM,MAAM;QACNC,MAAM,EAAEN,QAAQ,CAACE,IAAI,CAACK,GAAG,CAACC,KAAK,KAAK;UAChC,GAAGA,KAAK;UACRC,MAAM,EAAED,KAAK,CAACE,OAAO,CAACH,GAAG,CAACE,MAAM,IAAIA,MAAM,CAACE,IAAI,CAAC,CAACC,IAAI,CAAC,IAAI;QAC9D,CAAC,CAAC;MACN,CAAC;IACL,CAAC,CAAC,OAAOT,GAAG,EAAE;MACVN,QAAQ,CAAE,mCAAkCQ,MAAO,EAAC,CAAC;MACrD,OAAO,IAAI,CAAC,CAAE;IAClB;EACJ,CAAC;EAEDnB,SAAS,CAAC,MAAM;IACZS,UAAU,CAAC,IAAI,CAAC;IAChBG,YAAY,CAAC,CAAC,CAACe,IAAI,CAACC,OAAO,IAAI;MAC3BC,OAAO,CAACC,GAAG,CAACF,OAAO,CAACP,GAAG,CAACF,MAAM,IAAID,WAAW,CAACC,MAAM,CAAC,CAAC,CAAC,CAClDQ,IAAI,CAACI,OAAO,IAAI;QACbxB,aAAa,CAACwB,OAAO,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,MAAM,KAAK;UAC1C,IAAIA,MAAM,EAAE;YAAG;YACXD,GAAG,CAACC,MAAM,CAACf,MAAM,CAAC,GAAGe,MAAM,CAACd,MAAM;UACtC;UACA,OAAOa,GAAG;QACd,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACPxB,UAAU,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC;IACV,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,IAAID,OAAO,EAAE,oBAAOL,OAAA;IAAAgC,QAAA,EAAK;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EACzC,IAAI7B,KAAK,EAAE,oBAAOP,OAAA;IAAAgC,QAAA,GAAK,SAAO,EAACzB,KAAK;EAAA;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;EAE3C,oBACIpC,OAAA;IAAAgC,QAAA,gBACIhC,OAAA;MAAAgC,QAAA,EAAI;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAC1BC,MAAM,CAACC,IAAI,CAACnC,UAAU,CAAC,CAACoC,MAAM,GAAG,CAAC,GAC/BF,MAAM,CAACG,OAAO,CAACrC,UAAU,CAAC,CAACe,GAAG,CAAC,CAAC,CAACF,MAAM,EAAEC,MAAM,CAAC,kBAC5CjB,OAAA;MAAAgC,QAAA,gBACIhC,OAAA;QAAAgC,QAAA,GAAI,QAAM,EAAChB,MAAM;MAAA;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACvBpC,OAAA;QAAAgC,QAAA,EACKf,MAAM,CAACC,GAAG,CAAC,CAACC,KAAK,EAAEsB,KAAK,kBACrBzC,OAAA;UAAAgC,QAAA,GACKb,KAAK,CAACG,IAAI,EAAC,MAAI,EAACH,KAAK,CAACC,MAAM;QAAA,GADxBqB,KAAK;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEV,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA,GARCpB,MAAM;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OASX,CACR,CAAC,gBAEFpC,OAAA;MAAAgC,QAAA,EAAG;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CACzB;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd;AAAClC,EAAA,CA5EQD,eAAe;AAAAyC,EAAA,GAAfzC,eAAe;AA8ExB,eAAeA,eAAe;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}