{"ast":null,"code":"var _jsxFileName = \"/Users/seangong/WebstormProjects/Spotify/client/src/App.js\",\n  _s = $RefreshSig$();\n// App.js\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { Container, Typography, Box, Button, CircularProgress } from '@mui/material';\nimport ComparisonPage from './ComparisonPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [userAccessToken, setUserAccessToken] = useState(null);\n  const [secondUserAccessToken, setSecondUserAccessToken] = useState(null);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const code = new URLSearchParams(window.location.search).get('code');\n    if (code) {\n      setLoading(true);\n      axios.post('http://localhost:3001/callback', {\n        code\n      }).then(res => {\n        if (!userAccessToken) {\n          setUserAccessToken(res.data.accessToken);\n        } else {\n          setSecondUserAccessToken(res.data.accessToken);\n        }\n        setLoading(false);\n      }).catch(err => {\n        console.error('Error in token exchange:', err);\n        setLoading(false);\n      });\n    }\n  }, [userAccessToken]);\n  const handleLogin = userStep => {\n    window.location = `http://localhost:3001/login?step=${userStep}`;\n  };\n  if (userAccessToken && secondUserAccessToken) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/compare\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/compare\",\n        children: /*#__PURE__*/_jsxDEV(ComparisonPage, {\n          userOneAccessToken: userAccessToken,\n          userTwoAccessToken: secondUserAccessToken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          maxWidth: \"sm\",\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            mt: 10,\n            textAlign: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              gutterBottom: true,\n              children: \"Welcome to Spotify Stats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              gutterBottom: true,\n              children: \"Log in to compare your top tracks on Spotify with another user.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this), loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"inherit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: () => handleLogin(userAccessToken ? 2 : 1),\n              children: userAccessToken ? \"Login with the Second User\" : \"Login with the First User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"X4e1aTHRUVLUIXBV3DNbP9avjr4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","BrowserRouter","Router","Route","Switch","Redirect","Container","Typography","Box","Button","CircularProgress","ComparisonPage","jsxDEV","_jsxDEV","App","_s","userAccessToken","setUserAccessToken","secondUserAccessToken","setSecondUserAccessToken","loading","setLoading","code","URLSearchParams","window","location","search","get","post","then","res","data","accessToken","catch","err","console","error","handleLogin","userStep","to","fileName","_jsxFileName","lineNumber","columnNumber","children","path","userOneAccessToken","userTwoAccessToken","maxWidth","mt","textAlign","variant","gutterBottom","color","onClick","_c","$RefreshReg$"],"sources":["/Users/seangong/WebstormProjects/Spotify/client/src/App.js"],"sourcesContent":["// App.js\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { Container, Typography, Box, Button, CircularProgress } from '@mui/material';\nimport ComparisonPage from './ComparisonPage';\n\nfunction App() {\n    const [userAccessToken, setUserAccessToken] = useState(null);\n    const [secondUserAccessToken, setSecondUserAccessToken] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        const code = new URLSearchParams(window.location.search).get('code');\n        if (code) {\n            setLoading(true);\n            axios.post('http://localhost:3001/callback', { code })\n                .then(res => {\n                    if (!userAccessToken) {\n                        setUserAccessToken(res.data.accessToken);\n                    } else {\n                        setSecondUserAccessToken(res.data.accessToken);\n                    }\n                    setLoading(false);\n                })\n                .catch(err => {\n                    console.error('Error in token exchange:', err);\n                    setLoading(false);\n                });\n        }\n    }, [userAccessToken]);\n\n    const handleLogin = (userStep) => {\n        window.location = `http://localhost:3001/login?step=${userStep}`;\n    };\n\n    if (userAccessToken && secondUserAccessToken) {\n        return <Redirect to=\"/compare\" />;\n    }\n\n    return (\n        <Router>\n            <Switch>\n                <Route path=\"/compare\">\n                    <ComparisonPage \n                        userOneAccessToken={userAccessToken} \n                        userTwoAccessToken={secondUserAccessToken} \n                    />\n                </Route>\n                <Route path=\"/\">\n                    <Container maxWidth=\"sm\">\n                        <Box mt={10} textAlign=\"center\">\n                            <Typography variant=\"h3\" gutterBottom>Welcome to Spotify Stats</Typography>\n                            <Typography variant=\"subtitle1\" gutterBottom>\n                                Log in to compare your top tracks on Spotify with another user.\n                            </Typography>\n                            {loading ? (\n                                <CircularProgress color=\"inherit\" />\n                            ) : (\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={() => handleLogin(userAccessToken ? 2 : 1)}\n                                >\n                                    {userAccessToken ? \"Login with the Second User\" : \"Login with the First User\"}\n                                </Button>\n                            )}\n                        </Box>\n                    </Container>\n                </Route>\n            </Switch>\n        </Router>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}